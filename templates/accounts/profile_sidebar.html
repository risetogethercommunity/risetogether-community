{% load static %}

<!-- Desktop Sidebar -->
<aside id="profile-sidebar" class="hidden lg:block fixed left-0 top-0 h-screen w-64 bg-gray-900/95 backdrop-blur-lg border-r border-gray-800 z-40">
    <div class="flex flex-col h-full p-6">
        <!-- Logo -->
        <div class="mb-8">
            <a href="{% url 'home' %}" class="flex items-center gap-3">
                <img src="{% static 'images/logo.png' %}" alt="Rise Together" class="w-10 h-10 rounded-lg">
                <span class="font-rajdhani text-xl font-bold text-orange-500">Rise Together</span>
            </a>
        </div>

        <!-- Navigation Menu -->
        <nav class="flex-1 space-y-2">
            <!-- Home -->
            <a href="{% url 'home' %}" class="sidebar-link group">
                <i class="fas fa-home text-xl w-6"></i>
                <span>Home</span>
            </a>

            <!-- Feed -->
            <a href="{% url 'feed:feed_list' %}" class="sidebar-link group">
                <i class="fas fa-stream text-xl w-6"></i>
                <span>Feed</span>
            </a>

            <!-- Explore -->
            <a href="{% url 'community:blogs_list' %}" class="sidebar-link group">
                <i class="fas fa-compass text-xl w-6"></i>
                <span>Explore</span>
            </a>

            <!-- Projects -->
            <a href="{% url 'community:projects_list' %}" class="sidebar-link group">
                <i class="fas fa-code text-xl w-6"></i>
                <span>Projects</span>
            </a>

            <!-- Activities -->
            <a href="{% url 'community:activities_list' %}" class="sidebar-link group">
                <i class="fas fa-calendar-alt text-xl w-6"></i>
                <span>Activities</span>
            </a>

            <!-- Resources -->
            <a href="{% url 'community:resources_list' %}" class="sidebar-link group">
                <i class="fas fa-book text-xl w-6"></i>
                <span>Resources</span>
            </a>

            <!-- Messages -->
            <a href="#" class="sidebar-link group">
                <i class="fas fa-envelope text-xl w-6"></i>
                <span>Messages</span>
                <span class="ml-auto bg-orange-500 text-white text-xs rounded-full px-2 py-0.5">3</span>
            </a>

            <!-- Notifications -->
            <a href="#" class="sidebar-link group">
                <i class="fas fa-bell text-xl w-6"></i>
                <span>Notifications</span>
                <span class="ml-auto bg-red-500 text-white text-xs rounded-full px-2 py-0.5">5</span>
            </a>

            <!-- Create Post -->
            <a href="#" class="sidebar-link group">
                <i class="fas fa-plus-square text-xl w-6"></i>
                <span>Create Post</span>
            </a>

            <!-- Profile (Active) -->
            <a href="{% url 'accounts:profile' %}" class="sidebar-link group {% if request.resolver_match.url_name == 'profile' %}active{% endif %}">
                <i class="fas fa-user text-xl w-6"></i>
                <span>Profile</span>
            </a>
        </nav>

        <!-- Bottom Menu -->
        <div class="border-t border-gray-800 pt-4 space-y-2">
            <!-- Settings -->
            <a href="{% url 'accounts:edit_profile' %}" class="sidebar-link group {% if request.resolver_match.url_name == 'edit_profile' %}active{% endif %}">
                <i class="fas fa-cog text-xl w-6"></i>
                <span>Settings</span>
            </a>

            <!-- Logout -->
            <a href="{% url 'accounts:logout' %}" class="sidebar-link group text-red-400 hover:text-red-300">
                <i class="fas fa-sign-out-alt text-xl w-6"></i>
                <span>Logout</span>
            </a>
        </div>
    </div>
</aside>

<!-- Mobile Bottom Navigation -->
<nav class="lg:hidden fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur-lg border-t border-gray-800 z-50">
    <div class="flex justify-around items-center px-4 py-3">
        <!-- Home -->
        <a href="{% url 'home' %}" class="mobile-nav-link">
            <i class="fas fa-home text-xl"></i>
            <span class="text-xs">Home</span>
        </a>

        <!-- Feed -->
        <a href="{% url 'feed:feed_list' %}" class="mobile-nav-link">
            <i class="fas fa-stream text-xl"></i>
            <span class="text-xs">Feed</span>
        </a>

        <!-- Create -->
        <a href="#" class="mobile-nav-link" onclick="openCreatePostModal(); return false;">
            <div class="bg-orange-500 rounded-full p-3 -mt-6 shadow-lg">
                <i class="fas fa-plus text-white text-xl"></i>
            </div>
            <span class="text-xs mt-1">Create</span>
        </a>

        <!-- Explore -->
        <a href="{% url 'community:blogs_list' %}" class="mobile-nav-link">
            <i class="fas fa-compass text-xl"></i>
            <span class="text-xs">Explore</span>
        </a>

        <!-- Notifications -->
        <a href="#" class="mobile-nav-link relative">
            <i class="fas fa-bell text-xl"></i>
            <span class="text-xs">Alerts</span>
            <span class="absolute top-0 right-2 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center">5</span>
        </a>

        <!-- Profile (Active) -->
        <a href="{% url 'accounts:profile' %}" class="mobile-nav-link {% if request.resolver_match.url_name == 'profile' %}active{% endif %}">
            <i class="fas fa-user text-xl"></i>
            <span class="text-xs">Profile</span>
        </a>
    </div>
</nav>

<style>
    /* Sidebar Styles */
    .sidebar-link {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        color: #9CA3AF;
        transition: all 0.3s ease;
        font-weight: 500;
    }

    .sidebar-link:hover {
        background: rgba(249, 115, 22, 0.1);
        color: #F97316;
    }

    .sidebar-link.active {
        background: rgba(249, 115, 22, 0.2);
        color: #F97316;
        font-weight: 600;
    }

    .sidebar-link i {
        transition: transform 0.3s ease;
    }

    .sidebar-link:hover i {
        transform: scale(1.1);
    }

    /* Mobile Navigation Styles */
    .mobile-nav-link {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.25rem;
        color: #9CA3AF;
        transition: color 0.3s ease;
    }

    .mobile-nav-link.active {
        color: #F97316;
    }

    .mobile-nav-link:hover {
        color: #F97316;
    }

    /* Add padding to body for mobile bottom nav */
    @media (max-width: 1023px) {
        body {
            padding-bottom: 80px;
        }
    }

    /* Add margin for desktop sidebar */
    @media (min-width: 1024px) {
        .profile-content {
            margin-left: 16rem;
        }
    }
</style>
